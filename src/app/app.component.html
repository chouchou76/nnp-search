<input
  type="text"
  placeholder="Tìm kiếm..."
  (input)="onSearch($event)"
  (keydown.enter)="onSearch($event)"
  class="search-bar"
/>

<div class="filter-bar">
  <label>
    Giá từ:
    <input type="number" [(ngModel)]="minPrice" (input)="applyFilters()" />
  </label>
  <label>
    đến:
    <input type="number" [(ngModel)]="maxPrice" (input)="applyFilters()" />
  </label>

  <label>
    Sắp xếp:
    <select [(ngModel)]="sortOrder" (change)="applyFilters()">
      <option value="">-- Chọn --</option>
      <option value="asc">Giá tăng dần</option>
      <option value="desc">Giá giảm dần</option>
    </select>
  </label>
</div>

<div class="product-grid">
  <div class="product-card" *ngFor="let product of paginatedProducts">
    <img *ngIf="product.image_urls.length" [src]="product.image_urls[0]" alt="product image" />
    <p class="product-name">{{ product.name }}</p>
    <p class="product-price">{{ product.price_vnd }}₫</p>
    <div class="product-add">
      <img src="https://cdn-icons-png.flaticon.com/512/1828/1828817.png" alt="add icon" />
    </div>
  </div>
</div>

<div class="pagination" *ngIf="totalPages > 1">
  <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">‹</button>
  <button
    *ngFor="let page of [].constructor(totalPages); let i = index"
    (click)="changePage(i + 1)"
    [class.active]="currentPage === i + 1"
  >
    {{ i + 1 }}
  </button>
  <button (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">›</button>
</div>

<p *ngIf="filteredProducts.length === 0">Không có sản phẩm nào được tìm thấy.</p>
